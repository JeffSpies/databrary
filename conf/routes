# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

GET     /                      			controllers.Site.start
GET     /test                  			controllers.Site.test

GET     /login                      		controllers.Login.view
POST    /Login                 			controllers.Login.post
GET     /OpenID                     		controllers.Login.openID(username = "")
GET     /OpenID/:username           		controllers.Login.openID(username : String)
# should be POST:
GET	/Logout					controllers.Login.logout

GET	/entity/:id				controllers.Entity.view(id : models.Identity.Id)
GET	/entity/:id/admin			controllers.Entity.admin(id : models.Identity.Id)
POST	/entity/:id/Admin			controllers.Entity.change(id : models.Identity.Id)
POST	/entity/:id/Account			controllers.Entity.changeAccount(id : models.Identity.Id)
GET	/entity/:id/Authorize/search/child	controllers.Entity.authorizeSearch(id : models.Identity.Id, which : Boolean = false)
GET	/entity/:id/Authorize/search/parent	controllers.Entity.authorizeSearch(id : models.Identity.Id, which : Boolean = true)
POST	/entity/:id/Authorize/:child		controllers.Entity.authorizeChange(id : models.Identity.Id, child : models.Identity.Id)
POST	/entity/:id/Authorize/:other/child	controllers.Entity.authorizeAdd(id : models.Identity.Id, which : Boolean = false, other : models.Identity.Id)
POST	/entity/:id/Authorize/:other/parent	controllers.Entity.authorizeAdd(id : models.Identity.Id, which : Boolean = true, other : models.Identity.Id)
# should be POST but currently used as link:
GET	/entity/:id/Authorize/:child/delete	controllers.Entity.authorizeDelete(id : models.Identity.Id, child : models.Identity.Id)

GET	/study/:id				controllers.Study.view(id : models.Study.Id)
GET	/study/:id/edit				controllers.Study.edit(id : models.Study.Id)
POST	/study/:id/Edit				controllers.Study.change(id : models.Study.Id)
GET	/study/:id/Access/search		controllers.Study.accessSearch(id : models.Study.Id)
POST	/study/:id/Access/:entity/add		controllers.Study.accessAdd(id : models.Study.Id, entity : models.Identity.Id)
# should be POST:
GET	/study/:id/Access/:entity/delete	controllers.Study.accessDelete(id : models.Study.Id, entity : models.Identity.Id)
POST	/study/:id/Access/:entity		controllers.Study.accessChange(id : models.Study.Id, entity : models.Identity.Id)
POST	/study/Create				controllers.Study.create(owner : Option[models.Identity.Id] ?= None)

# Not super happy with these paths:
GET	/study/:id/object/:obj			controllers.Object.view(id : models.Study.Id, obj : models.Object.Id)
GET	/study/:id/object/:obj/edit		controllers.Object.edit(id : models.Study.Id, obj : models.Object.Id)
POST	/study/:id/object/:obj/Edit		controllers.Object.change(id : models.Study.Id, obj : models.Object.Id)

POST	/study/:id/Comment			controllers.Comment.postStudy(id : models.Study.Id)
POST	/study/:id/object/:obj/Comment		controllers.Comment.postObjectLink(id : models.Study.Id, obj : models.Object.Id)

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               		controllers.Assets.at(path="/public", file)
