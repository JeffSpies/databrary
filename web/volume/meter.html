<div class="wizard-step" ng-if="active">
  <header class="wizard-step-header">
    <span>Your volume is <b>{{100*meter | number:0}}% complete!</b></span>
  </header>
  <div class="wizard-step-instructions" >
    <span message="wizard.volume-edit-meter.description" message-html></span>
    <br>
    <small class="reminder">Note: If you recently added to your volume, try refreshing the page for up-to-date information.</small>
  </div>
  <div>
    <div class="volume-meter-category volume-meter-done col-desktop-15 col-tablet-9 col-mobile-6" ng-click="goto('overview')">
      <div class="icon done-not">
        <span class="icon done"></span>
      </div>
      <h5>Volume created and named</h5>
      <span ng-if="::!metrics.name.done">: Create your volume and give it a title.</span>
    </div>

    <div class="volume-meter-category col-desktop-15 col-tablet-9 col-mobile-6" ng-class="{'volume-meter-done': !!metrics.description.done && !!metrics.citation.done && !!metrics.keywords.done}">
      <div class="icon done-not">
        <span ng-if="::!!metrics.description.done && !!metrics.citation.done && !!metrics.keywords.done" class="icon done"></span>
      </div>
      <h5>Add more volume information</h5>
      <p>Make it easier for others to find your volume.</p>
      <ul ng-if="::!metrics.description.done || !metrics.citation.done || !metrics.keywords.done">
        <li ng-class="{'volume-meter-done': metrics.description.done}">
          <span ng-if="::!!metrics.description.done">
            <span class="icon done"></span>
            Description added
          </span>
          <span ng-click="goto('overview', '#body')" ng-if="::!metrics.description.done" class="clickable">Add a description of at least 500 characters. <br><small> This will summarize what your volume contains and how the data were collected (e.g., the abstract of a corresponding publication).</small></span>
        </li>
        <li ng-class="{'volume-meter-done': metrics.citation.done}">
          <span ng-if="::!!metrics.citation.done">
            <span class="icon done"></span>
            Publication linked
          </span>
          <span ng-click="goto('overview', '#citation')" ng-if="::!metrics.citation.done" class="clickable">Link your volume to any corresponding publication by adding a DOI or citation.</span>
        </li>
        <li ng-class="{'volume-meter-done': metrics.keywords.done}">
          <span ng-if="::!!metrics.keywords.done">
            <span class="icon done"></span>
            Keywords added
          </span>
          <span ng-click="goto('overview', '#tag-add')" ng-if="::!metrics.keywords.done" class="clickable">Add at least three keywords to label your volume.</span>
        </li>
      </ul>
    </div>

    <div class="volume-meter-category col-desktop-15 col-tablet-9 col-mobile-6" ng-class="{'volume-meter-done': !!metrics.design.done && !!metrics.session.done && !!metrics.record.done}">
      <div class="icon done-not">
        <span ng-if="::!!metrics.design.done && !!metrics.session.done && !!metrics.record.done" class="icon done"></span>
      </div> 
      <h5>Study design and data spreadsheet</h5>
      <p>Define your study design, then start creating and describing sessions in the data spreadsheet.</p>
      <ul ng-if="::!metrics.design.done || !metrics.session.done || !metrics.record.done">
        <li ng-class="metrics.design.done? 'volume-meter-done' : 'clickable'">
          <span ng-if="::!!metrics.design.done">
            <span class="icon done"></span> 
            Study design defined
          </span>
          <span ng-click="goto('design')" ng-if="::!metrics.design.done">Select the categories and fields by which you will describe your sessions.</span>
        </li> 
        <li ng-class="metrics.session.done? 'volume-meter-done' : 'clickable'">
          <span ng-if="::!!metrics.session.done">
            <span class="icon done"></span>
            Created a study session
          </span>
          <span ng-click="goto('data')" ng-if="::!metrics.session.done">Create at least one study session in order to start uploading data.<br>
            <small>Click 'add folder' and select 'session' in the folder type dropdown on the left of the spreadsheet</small>
          </span>
        </li>
        <li ng-class="metrics.record.done? 'volume-meter-done' : 'clickable'">
          <span ng-if="::!!metrics.record.done">
            <span class="icon done"></span>
            Described a session
          </span>
          <span ng-click="goto('data')" ng-if="::!metrics.record.done">
          Fill out the fields for a session category such as participant, task, condition, etc.</span>
        </li>
      </ul>
    </div>

    <div class="volume-meter-category col-desktop-15 col-tablet-9 col-mobile-6" ng-click="goto('data')" ng-class="metrics.asset.done? 'volume-meter-done' : 'clickable'">
      <div class="icon done-not">
        <span ng-if="::!!metrics.asset.done" class="icon done"></span>
      </div> 
      <h5>Upload a file</h5>
      <p ng-if="::!metrics.asset.done">Upload at least one file to a session. Start by selecting "add file" in one of your folders in the data spreadsheet.</p>
    </div>

    <div class="volume-meter-category col-desktop-15 col-tablet-9 col-mobile-6" ng-class="{'volume-meter-done': !!metrics.excerpts.done && !!metrics.asset.done}">
      <div class="icon done-not">
        <span ng-if="::!!metrics.excerpts.done && !!metrics.thumbnail.done" class="icon done"></span>
      </div>
      <h5>Highlight data that represents your study</h5>
      <p ng-if="::!metrics.excerpts.done || !metrics.thumbnail.done">
        Highlighting data or files makes it easier for others to understand what your volume contains.
        <span ng-if="::!metrics.asset.done" class="reminder"><br>Note: You need to have uploaded at least one file before you can select a highlight.</span>
      </p>
      <ul ng-if="::!metrics.excerpts.done || !metrics.thumbnail.done">
        <li ng-class="{'volume-meter-done':metrics.excerpts.done}">
          <span ng-if="::!!metrics.excerpts.done">
            <span class="icon done"></span>
            Highlights selected
          </span>
          <span ng-click="goto('data')" ng-if="::!metrics.excerpts.done" class="clickable">
            Select at least three highlights from your data to represent your volume.<br>
            <small>
              <b>Clicking will take you to the data spreadsheet<br></b>
              Step 1: Select the file you wish to highlight from the 'file' tab. You will be taken to the timeline file viewer. <br>Step 2: You can highlight an entire video or a specific segment by clicking and dragging over the desired section of the timeline. <br>Step 3: Click the 'highlight on volume' button and choose your sharing level in the dropdown that appears.
            </small>
          </span>
        </li>
        <li ng-class="{'volume-meter-done':metrics.thumbnail.done}">
          <span ng-if="::!!metrics.thumbnail.done">
            <span class="icon done"></span>
            Thumbnail chosen
          </span>
          <span ng-click="goto('data')" ng-if="::!metrics.thumbnail.done" class="clickable">
            Select a public highlight from a video or image to use as your volume thumbnail.<br>
            <small>
              <b>Clicking will take you to the data spreadsheet. </b>
              Step 1: Select the file you wish to highlight from the 'file' tab. You will be taken to the timeline file viewer. <br>Step 2: Click the 'Edit highlight' button and choose 'Public: Available openly to anybody' in the dropdown. The highlight will automatically be used as your volume thumbnail.
            </small>
          </span>
        </li>
      </ul>
    </div>

    <div class="volume-meter-category col-desktop-15 col-tablet-9 col-mobile-6" ng-click="goto('access', '#preset')" ng-class="metrics.share.done ? 'volume-meter-done' : 'clickable'">
      <div class="icon done-not">
        <span ng-if="::!!metrics.share.done" class="icon done"></span>
      </div> 
      <h5>Share your volume</h5>
      <p ng-if="::!metrics.share.done">Share your volume with other Databrary users.</p>
    </div>
  </div>
</div>
