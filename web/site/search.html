<article class="view search-view">
  <div class="wrap">
    <div class="row">
      <div class="col">
        <h3>
          <span>Search </span>
          <ng-form isolate>
            <input class="search-input" type="search" ng-model="searchBoxQuery" key-enter="searchBox()"/>
          </ng-form>
        </h3>
        <p>Number of results found: {{totalCount}}</p>
        <!--<p>Showing results {{results.start + 1}} to {{results.start + results.docs.length}}</p>-->

        <div class="search-filter">
          <select multiple="multiple" size="10" ng-model="selectedType" ng-options="t for t in typeDisplay" ng-click="partyVolBoxClick()"></select>
          <select multiple="multiple" size="10" ng-model="selectedFilter" ng-options="s for s in filterDisplay" ng-click="filterBoxClick()"></select>
          <!-- <select multiple="multiple" size="10" ng-model="selectedVolume" ng-options="result.title_t for result in results.docs"></select> -->
        </div>
        <span ng-if="partyCount > 0">
          <h3>Users</h3>
          <ul>
            <li ng-repeat="result in partyResults.docs">
              <!-- This is where we return what we want-->
              <a ng-href="party/{{result.party_id_i}}">{{result.party_pre_name_s + " " + result.party_name_s}}</a><br>
              <span ng-bind="result.party_affiliation_s"</span>
            </li>
          </ul>
        </span>
        <div ng-if="volumeCount > 0">
          <h3>Volumes</h3>
          <ul>
            <li ng-repeat="result in volumeResults.docs">
              <!-- This is where we return what we want-->
              <a ng-href="volume/{{result.volume_id_i}}">{{result.title_t}}</a><br>
              <span ng-bind="formVolumeResult(result)"></span><br>
              Keywords: <span ng-repeat="k in result.volume_keywords_ss">{{k + ", "}}</span>
            </li>
          </ul>
        </div>
        <span ng-if="partyCount <= 0 && volumeCount <= 0">
          No results found.
        </span>
        <div class="search-pages">
          <span ng-if="prev">
            <a ng-if="prev" ng-click="prev()">&lt; </a>
          </span>
          <b ng-repeat="i in pageRange">
            <b ng-if="number == i">| {{i}} </b>
            <span ng-if="number != i">
              <a ng-click="goToPage(i)">| {{i}} </a>
            </span>
          </b>
          |
          <span ng-if="next">
            <a ng-click="next()"> &gt;</a>
          </span>
        </div>
      </div>
    </div>
  </div>
</article>
