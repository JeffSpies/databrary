@(volume : Volume)(implicit request : SiteRequest[_])

<h3>Sessions</h3>

<table>
    <thead>
        <tr>
            <th class="main">Session</th>
            <th class="meta">Age</th>
            <th class="meta">Gender</th>
            <th class="meta">Consent</th>
        </tr>
    </thead>

    <tbody>
    @defining(volume.recordSlots) { sessions =>
    @if(sessions.nonEmpty) {
        @sessions.map { case (record, slots)  =>
	    @slots.map { slot =>
                    <tr>
                        <td class="main">
                            <a href='@slot.pageURL'>@slot.pageName</a>
                        </td>
			<td class="meta">@slot.container.date.flatMap(record.age _).map(display.age _)</td>
                        <td class="meta">@record.gender</td>
                        <td class="meta">@slot.consent</td>
                    </tr>
            }
        }
    } else {
        <tr>
            <td class="empty" colspan="3">This volume has no sessions.</td>
        </tr>
    }
    }
    </tbody>
</table>
