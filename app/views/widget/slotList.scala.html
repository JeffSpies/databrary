@(volume : Volume)(implicit request : SiteRequest[_])

<h3>Sessions</h3>

<table>
    <thead>
        <tr>
            <th class="main">Slot</th>
            <th class="meta">Age</th>
            <th class="meta">Gender</th>
            <th class="meta">Consent</th>
        </tr>
    </thead>

    <tbody>
    @defining(volume.sessions) { sessions =>
    @if(sessions.nonEmpty) {
        @sessions.map { case (slot, record)  =>
                    <tr>
                        <td class="main">
                            <a href='@slot.pageURL'>@slot.pageName</a>
                        </td>
			<td class="meta">@record.flatMap(r => slot.container.date.flatMap(r.age _)).map(display.age _)</td>
                        <td class="meta">@record.map(_.gender)</td>
                        <td class="meta">@slot.consent</td>
                    </tr>
        }
    } else {
        <tr>
            <td class="empty" colspan="3">This volume has no sessions.</td>
        </tr>
    }
    }
    </tbody>
</table>
