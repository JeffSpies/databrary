@(list : Seq[Volume])(implicit request : SiteRequest[_])

@script = {
    dbjs.fadeOff('.volume_roll a', '.body', '.thumb');
}

@template.crud("Volume List", js = script) {
    <div class="roll">
        <h1>Volume list</h1>

        @list.map { volume =>
            <article id="volume_@volume.id.unId" class="volume volume_roll cf">
                <div class="row">
                    <a href="@routes.Volume.view(volume.id)" class="block cf" title="@volume.name">
                        <header class="column_full">
                            <h1>@volume.name</h1>
                        </header>

                        <aside class="thumb cf">
                        @widget.volumeThumb(volume)
                        </aside>

                        <div class="body">
                            <footer class="meta cf">
								<div class="date">
									<time datetime="@volume.creation" pubdate>@display.dateFmtY.format(volume.creation)</time>
								</div>

                                <div class="people">
				@volume.partyAccess.takeWhile(_.access >= Permission.CONTRIBUTE).map { a => <img src="@display.gravatarUrlByParty(a.party, 16)"> @display.citeName(a.party.name)<span class="sep">,</span> }
                                </div>
                            </footer>

                            <div class="description">
			    @volume.body.map(display.plainTextSummary(_, 2))
                            </div>
                        </div>
                    </a>
                </div>
            </article>
        }
    </div>
}
