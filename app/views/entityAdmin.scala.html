@(entity : Entity, entityForm : controllers.Entity.EntityForm, accountForm : Option[controllers.Entity.AccountForm], authorizeForms : Seq[(Entity,Form[Authorize])], authorizeWhich : Option[Boolean], authorizeSearch : Form[String], authorizeResults : Seq[(Entity,Form[Authorize])])(implicit request : UserRequest[_])


@common(entity, "admin") {

	@helper.form(routes.Entity.change(entity.id)) {
		@helper.inputText(entityForm("name"))
		@helper.inputText(entityForm("orcid"))
		<button type='submit'>Change</button>
	}
	@formErrors(entityForm)

	@accountForm.map { form =>
	<h2>Account</h2>
	@helper.form(routes.Entity.changeAccount(entity.id)) {
		@helper.inputText(form("email"))
		@helper.inputText(form("openid"))
		@helper.select(form("timezone"), ("", "default") +: java.util.TimeZone.getAvailableIDs.sorted.map(tz => (tz, tz.replaceAllLiterally("/", ": ").replaceAllLiterally("_", " "))))
		<button type='submit'>Change</button>
	}
	@formErrors(form)
	}

	<h2>Authorizations</h2>
	@authorizeAdmin(entity, authorizeForms, authorizeWhich, authorizeSearch, authorizeResults)
}
