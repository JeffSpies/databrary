@(study : Study)(implicit request : SiteRequest[_])

@common(study) {

	<ul>
	@study.entityAccess(Permission.CONTRIBUTE)(request.db).map { a => 
		<li>@display(a.entity)</li>
	}
	</ul>

	<p>@study.description</p>

	@if(study.permission >= Permission.EDIT) {
		<a href='@routes.Study.edit(study.id)'>edit</a>
	}

	@objectList(study)

	<h2>Slots</h2>

	<ul>
	@study.slots(request.db).map { slot => 
		<li>@display(slot)</li>
	}
	@if(study.permission >= Permission.CONTRIBUTE) {
		<li>@helper.form(routes.Slot.create(study.id)) {
			<button type='submit'>Add new slot</button>
		}</li>
	}
	</ul>

	@comments(Some(routes.Comment.postStudy(study.id)), study.comments(false)(request.db)) { c =>
		@display(c.who)
			@if(c.containerId != study.id) {
				&gt; @display(c.container)
			}
			@c.obj.map { o =>
				&gt; @display(o)
			}
	}
}
