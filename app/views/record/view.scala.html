@(record : models.Record)(implicit request : RequestObject[Record]#Site[_])

@template.crud("Record: " + record.toString()) {
        <div class="row">
            <div class="col-laptop-3 col-tablet-2 col-mobile-2">
                <div class="siderim">
                    <h2>Measures</h2>

                    <dl class="measures">
                    @record.measures.filter(m => record.dataPermission(m.metric).checkPermission(Permission.DOWNLOAD)).map { m =>
                        <dt>@m.metric.name</dt>
                        <dd>@m.datum</dd>
                    }
                    </dl>
                </div>
            </div>

            <div class="col-laptop-9 col-tablet-7 col-mobile-4">
                <h2>Slots</h2>
                <table>
                    <thead>
                        <tr>
                            <th class="main">Slot</th>
                            <th class="meta">Range</th>
                            <th class="meta">Consent</th>
                        </tr>
                    </thead>

                    <tbody>
	            @defining(record.slots) { slots =>
                    @if(slots.nonEmpty) {
                        @slots.map { s =>
                            <tr>
                                <td class="main"><a href='@s.pageURL'>@s.container.name (#@s.id.unId)</a></td>
                                <td class="meta">@display(s.segment)</td>
                                <td class="meta">@s.consent</td>
                            </tr>
                        }
                    } else {
                        <tr>
                            <td class="empty" colspan="3">This container has no child slots.</td>
                        </tr>
                    }
		    }
                    </tbody>
                </table>
            </div>
        </div>
}
