<form name="authGrantForm" novalidate bindonce>
  <messages form="authGrantForm"></messages>

  <fieldset class="radio-set">
    <legend ng-bind="'auth.site' | possessive:authGrantForm.party"></legend>

    <div ng-repeat="(val, name) in page.constants.data.permission" ng-if="canGrantSite(val)">
      <input type="radio" ng-model="authGrantForm.other.site" name="site" ng-value="val" ng-selected="val == authGrantForm.other.site">
      <label bo-html="authGrantForm.presetName('site', name, authGrantForm.party)" class="option"></label>
    </div>
  </fieldset>

  <fieldset class="radio-set">
    <legend ng-bind="'auth.member' | possessive:authGrantForm.party"></legend>

    <div ng-repeat="(val, name) in page.constants.data.permission" ng-if="canGrantMember(val)">
      <input type="radio" ng-model="authGrantForm.other.member" name="member" ng-value="val" ng-selected="val == authGrantForm.other.member">
      <label bo-html="authGrantForm.presetName('member', name, authGrantForm.party)" class="option"></label>
    </div>
  </fieldset>

  <fieldset class="clean">
    <validator form="authGrantForm" name="expires" label="'auth.expiration' | message">
      <input type="date" ng-model="authGrantForm.other.expires" name="expires" class="network-auth-expiration-input" ng-blur="authGrantForm.transformExpiration()" date-model date-min="now" date-max="2 years">
    </validator>
  </fieldset>

  <fieldset class="clean">
    <button ng-click="authGrantForm.save()" class="green" bo-text="'save' | message" ng-disabled="authGrantForm.$pristine || authGrantForm.$invalid"></button>
    <button ng-click="authGrantForm.reset()" class="yellow" bo-text="'revert' | message" ng-disabled="authGrantForm.$pristine"></button>
    <button ng-click="authGrantForm.deny()" class="red" bo-text="'remove' | message"></button>
  </fieldset>
</form>
