<form name="volumeEditCitationsForm" bindonce novalidate>
  <messages form="volumeEditCitationsForm"></messages>

  <fieldset>
		<legend bo-html="'citations.study.title' | message"></legend>
		<div bo-html="'citations.study.body' | message | format"></div>

		<label ng-bind-html="'citation.url' | message"></label>
		<input type="text" name="url" ng-model="volumeEditCitationsForm.data.study.url">
		<button class="pull mini pull_citation" ng-disabled="!page.constants.regex.doi.test(volumeEditCitationsForm.data.study.url)" ng-click="autoDOI(volumeEditCitationsForm.data.study)" bo-html="'lookup' | message"></button>

		<label ng-bind-html="'citation.head' | message"></label>
		<input type="text" name="head" ng-model="volumeEditCitationsForm.data.study.head">
	</fieldset>

  <fieldset>
		<legend bo-html="'citations.more.title' | message"></legend>
		<div bo-html="'citations.more.body' | message | format"></div>

    <repeater retrieve="volumeEditCitationsForm.retrieveRepeater">
      <label ng-bind-html="'citation.url' | message"></label>
      <input type="text" name="url" ng-model="repeat.url">
      <button class="pull mini pull_citation" ng-disabled="!page.constants.regex.doi.test(repeat.url)" ng-click="autoDOI(repeat)" bo-html="'lookup' | message"></button>

      <label ng-bind-html="'citation.head' | message"></label>
      <input type="text" name="head" ng-model="repeat.head">

      <label ng-bind-html="'citation.body' | message"></label>
      <textarea name="body" ng-model="repeat.body"></textarea>
    </repeater>
  </fieldset>

  <fieldset class="clean">
    <button ng-click="volumeEditCitationsForm.save()" bo-html="'save' | message" class="green" ng-disabled="!volumeEditCitationsForm.$dirty"></button>
    <button ng-click="volumeEditCitationsForm.reset()" bo-html="'revert' | message" class="red" ng-if="volumeEditCitationsForm.$dirty"></button>
  </fieldset>
</form>
