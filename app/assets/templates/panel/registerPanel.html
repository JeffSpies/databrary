<panel ng-controller="RegisterPanel" top id="panel_register" title="Register">
        <div class="row">
            <hgroup class="col-full">
                <h1 class="panel_context">Register</h1>
                <h2 class="panel_title with_context">Get Databrary Access</h2>
            </hgroup>

            <div class="col-full">
                <wizard retrieve="retrieveWizard" linear>
                    <wizard-step id="register_create">
                        <form name="registerForm">
                            <label for="field_name">Name</label>
                            <input id="field_name" name="fieldName" type="text" ng-model="data.name" ng-minlength="3">

                            <label for="field_email">Email</label>
                            <input id="field_email" name="fieldEmail" type="email" ng-model="data.email">

                            <label for="field_affiliation">Affiliation</label>
                            <input id="field_affiliation" name="fieldAffiliation" type="text" ng-model="data.affiliation" ng-minlength="3">

                            <button class="second" type="submit" ng-disabled="!testProceed(registerForm)" ng-click="proceed(registerForm)">Continue</button>
                            <button class="first" type="reset">Reset</button>
                        </form>
                    </wizard-step>

                    <wizard-step id="register_agreement">
                        <div class="register_agreement_pages">
                            <div class="register_agreement_page" ng-bind-html="agreement.data[agreement.page]"
                                 scroll="scroll($scroll)"></div>
                        </div>

                        <p>Download the <a href="http://databrary.org/policies/investigator-agreement.pdf" target="_blank">pdf version</a> for easy reading. Refer to our <a href="http://databrary.org/user-guide/policies/definitions.html" target="_blank">term definitions</a>.</p>

                        <button class="second" ng-click="proceed()" ng-show="agreement.page >= agreement.pages" ng-disabled="!canProceed()">Register</button>

                        <button class="second" ng-click="next()" ng-show="agreement.page < agreement.pages" ng-disabled="!canProceed()">Agree</button>
                        <button class="third" ng-click="back()" ng-show="agreement.page > 1">Back</button>
                    </wizard-step>

                    <wizard-step id="register_email">
                        <p>Your confirmation email has been sent to <strong>{{registerData.email}}</strong>.</p>
                    </wizard-step>

                    <wizard-step id="register_password">
                        <form name="passwordForm">
                            <label for="field_password_once">Password</label>
                            <input id="field_password_once" type="password" ng-model="data.password.once">

                            <label for="field_password_again">Password (again)</label>
                            <input id="field_password_again" type="password" ng-model="data.password.again">

                            <button class="second" type="submit" ng-disabled="!testProceed(passwordForm)" ng-click="proceed(passwordForm)">Continue</button>
                            <button class="first" type="reset">Reset</button>
                        </form>
                    </wizard-step>

                    <wizard-step id="register_agent">
                        <auth-search-form></auth-search-form>
                    </wizard-step>

                    <wizard-step id="register_request">
                        <auth-apply-form></auth-apply-form>
                    </wizard-step>

                    <wizard-step id="register_pending"></wizard-step>
                </wizard>
            </div>
        </div>
</panel>
