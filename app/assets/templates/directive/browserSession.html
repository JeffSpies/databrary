<article bindonce class="browser_item browser_session cf" bo-class="{materials: data.object.top}">
  <div class="browser_item_content">
    <div class="cf">
      <footer>
                <span bo-if="data.object.consent">
                    <div class="item_meta consent icon bb" bo-class="page.constants.data.consent[data.object.consent].toLowerCase()" hint="consent-{{page.constants.data.consent[data.object.consent]}}"></div>

                    <div class="item_meta sep" bo-if="page.auth.hasAccess('CONTRIBUTE', data)">|</div>
                </span>

        <a bo-href="editLink(data)" target="_self" bo-if="page.auth.hasAccess('CONTRIBUTE', data)">edit</a>
      </footer>

      <header>
        <browser-icon data="data"></browser-icon>

        <h1 bo-if="!data.object.top">
          Session<span bo-if="data.object.name">: <span bo-text="data.object.name"></span></span>

          <session-mark data="data" mark="pilot" bo-if="data.object.categories[-800]"></session-mark>
          <session-mark data="data" mark="excluded" bo-if="data.object.categories[-700]"></session-mark>
        </h1>

        <h1 bo-if="data.object.top">Materials</h1>
      </header>
    </div>

    <div class="item_main">
      <dl class="flat_list cf" bindonce ng-repeat="cat in getSessionRecords(data)">
        <dt bo-text="formatSessionCategory(data, cat.id, cat.records)" ng-class="{solo: record.id == 0}"></dt>

        <dd ng-repeat="record in cat.records" ng-if="record.id != 0"><span bo-text="recordIdentifier(data.volume.records[record.id])"></span><span bo-if="record.age"> <display-age value="{{record.age}}"></display-age></span></dd>
      </dl>

      <dl class="flat_list cf" bo-if="data.object.date">
        <dt>Date</dt>
        <dd bo-text="data.object.date"></dd>
      </dl>
    </div>
  </div>

  <browser-list ng-if="page.browser.showList(data)" data="data"></browser-list>
</article>
