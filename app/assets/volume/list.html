<div class="volume-list">
  <div ng-if="!volumes.length" class="volume-list-none">
    <span message="search.none"></span>
  </div>
  <ul class="flat">
    <li ng-repeat="volume in volumes">
      <article class="volume-list-result cf">
        <h1>
          <span class="icon volume"></span>
          <a ng-href="{{::volume.route()}}" ng-bind="::name(volume)"></a>
        </h1>

        <div class="volume-list-investigators" ng-if="::volume.access">
          <span ng-if="profile">Investigators: </span>
          <ul class="inline-block comma">
            <li ng-repeat="access in ::volume.access | filter:{individual: page.permission.ADMIN}">
              <a ng-href="{{::access.party.route()}}" ng-bind="::access.party.name"></a>
            </li>
          </ul>
          <span class="year" ng-if="::volume.citation && volume.citation.year" ng-bind="::' (' + volume.citation.year + ')'"></span>
        </div>

        <div class="volume-list-investigators" ng-if="::volume.access && profile">
          <span>Collaborators: </span>
          <ul class="inline-block comma">
            <li ng-repeat="access in ::volume.access | filter:{individual: page.permission.READ}">
              <a ng-href="{{::access.party.route()}}" ng-bind="::access.party.name"></a>
            </li>
          </ul>
        </div>

        <div class="volume-list-body" ng-bind="::volume.body.replace('\n', ' ') | truncate:200" ng-if="::!profile"></div>

        <div ng-if="::profile">
          <span>Access: </span>
          <span message="{{shared(volume) ? 'volume.access.shared' : 'volume.access.private'}}"></span>
        </div>
      </article>
    </li>
  </ul>
</div>
