<panel ng-controller="volume/excerpts" id="panel-excerpts" panel-title="{{'excerpts.title' | message}}" fold>
  <div class="row">
    <div class="panel-excerpts-player col-desktop-7 col-laptop-6 col-tablet-5 col-mobile-6">
      <section ng-if="current" class="panel-excerpts-player-frame">
        <div ng-repeat="current in [current]" bindonce>
          <header>
            <a bo-href="jumpLink(current)" class="icon line jump tool" target="_self" tooltip="'excerpts.jump' | message"></a>
            <a bo-href="current.downloadRoute(false)" class="icon line download tool" target="_self" tooltip="'excerpts.download' | message"></a>

            <div class="classification icon line tool" bo-class="page.constants.classification[current.excerpt || current.asset.classification]" hint="classification-{{page.constants.classification[current.excerpt || current.asset.classification]}}"></div>

            <h1 class="panel-excerpts-player-heading">
              <img class="icon" bo-src="current.icon" hint="format-{{current.format.extension}}">
              <span bo-text="current.displayName"></span>
            </h1>
          </header>

          <asset-display asset="current">
        </div>
      </section>

      &nbsp;
    </div>

    <div class="panel-excerpts-list col-desktop-8 col-tablet-4 col-mobile-6">
      <div class="row">
        <div class="panel-excerpts-box" ng-repeat="excerpt in volume.excerpts" bindonce>
          <div class="panel-excerpts-binder" bo-class="{video:excerpt.format.type==='video','panel-excerpts-list-current':excerpt===current}">
            <div class="panel-excerpts-actions">
                     <a bo-href="jumpLink(excerpt)" class="icon line jump tool" target="_self" tooltip="'excerpts.jump' | message"></a>
            </div>

            <div bo-if="hasThumbnail(excerpt)" ng-click="setCurrent(excerpt)" class="panel-excerpts-icon">
              <figure fill>
                <img bo-src="excerpt.thumbRoute(109)" bo-if="showThumbnail(excerpt)">
              </figure>

              <div class="panel-excerpts-video-overlay"></div>
            </div>

            <div bo-if="!hasThumbnail(excerpt)" ng-click="setCurrent(excerpt)" class="panel-excerpts-icon">
              <figure>
                <span bo-text="excerpt.asset.name"></span>
                <img class="panel-excerpt-filetype-thumb" bo-src="excerpt.icon">
              </figure>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</panel>
