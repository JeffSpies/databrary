// body - header
.body_header {
	@body_header_height: 66px;

	.clearfix();
	margin-bottom: @gutter;
	padding-top: @gutter;
	padding-bottom: @gutter;
	border-bottom: 1px solid @gray_75_third;

	.title,
	.search {
		height: @body_header_height;
	}

	.title {
		float: left;
		position: relative;
		top: -7px;
		font-size: 3em;
		line-height: @body_header_height;

		img {
			vertical-align: bottom;
			margin-right: 5px;
		}

		a {
			color: inherit;
		}
	}

	.search {
		float: right;
		font-size: 1.1em;
		padding: @body_header_height/4 0 0;
	}

	.searchbox {
		width: 300px;
		height: @body_header_height/2;
		padding: 2px 12px 4px;
	}
}

// body - sidebar
.page .body_sidebar {
	h1 {
		margin: .5em 0 (@gutter/2);
        padding-bottom: 0.5em;
		line-height: 1;
		font-size: 1.5em;
	}

	.sidebar_nav {
		ul:first-child {
			padding-left: 0;
		}
	}
}

// body - sidebar - menu
.sidebar_menu {
	position: relative;

	&.reduced {
		font-size: 0.5em;
		display: inline-block;

		button {
			@dark_first: darken(@first, 25%);
			position: relative;
			top: -.3em;
			display: block;
			padding-left: 1.25em;
			border: 0;
			font-size: 1em;
			height: 1.25em;
			width: 1em;
			border-top: 0.75em double @dark_first;
			border-bottom: 0.25em solid @dark_first;
			margin-right: 5px;
			.transition(@transition);
		}

		nav {
			position: absolute;
			left: -@gutter/8;
			display: none;
			padding-top: @gutter/2;
		}

		nav:before, nav:after {
			content: '';
			width: @gutter/2;
			height: @gutter/2;
			background: @white;
			.rotate(45deg);
			position: absolute;
			top: (@gutter/2) - 5px;
			left: 0;
			margin-left: @gutter/4;
			z-index: 11;
		}

		nav:after {
			.box-shadow(@shadow);
			z-index: -15;
		}

		ul {
			padding: @gutter/2;
			margin: 0;
			background: @white;
			.border-radius(5px);
			.box-shadow(@shadow);
		}

		&:hover {
			button {
				.transition(@transition);
				border-color: @first;
			}
		}

		&.dropped {
			button {
				.transition(@transition);
				border-color: @second;
			}

			nav {
				display: block;
			}
		}
	}
}

.sidebar_nav {
	a {
		display: block;
		padding: 3px 6px;
		.border-radius(3px);

		&:hover {
			background: @white_75_first;
			color: @text;
		}
	}

	li.foot {
		margin-bottom: 1em;
	}
}

// comments

.page {
    .comments, .tags, .sessions {
        h1 {
            border: 0;
            padding: 0;
            margin-top: (@gutter * 2);
            font-weight: normal;
            font-size: 1.5em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
    }
}

.comment {
    .grid-width(max, 6);

    &.form {
        border-bottom: 2px solid @gray_50_third;
        margin-bottom: @gutter;
        border-top: 2px solid @gray_50_third;
        padding-top: @gutter;
        .border-radius(15px);
        padding-left: @gutter;
        padding-right: @gutter;
    }

    .userinfo {
        margin-bottom: @gutter/4;
    }

    .body {
        padding-left: (@avatar_medium + (@gutter/4));
        margin-bottom: @gutter;
    }

    textarea {
        min-height: 150px;
    }
}

// tags

.tag-list {
    list-style: none;
    padding: 0;
    margin: 0;

    li {
        height: @gutter;
        position: relative;
    }

    a {
        display: block;
    }

    .tag {
        line-height: @gutter;
    }

    .name {
        font-size: 0.75em;
    }

    .weight, .controls {
        position: relative;
        top: 6px;
        .border-radius(@gutter/4);
        height: (@gutter/1.5);
    }

    .weight {
        float: right;
        min-width: @gutter;
        text-align: center;
        background: @gray_75_third;
        overflow: hidden;
        font-size: 0.6em;
        line-height: (@gutter/1.5);
        font-weight: bold;
        padding: 0 (@gutter/4);
    }

    .controls {
        float: left;
        margin-right: (@gutter/4);
        border: 1px solid @gray_50_third;
        .border-radius(@gutter/6);
        padding: 0 (@gutter/8);
        overflow: hidden;
    }

    .vote {
        @arrow: (@gutter/4);

        @able: @third;
        @hover: @white_50_third;
        @active: @white_75_third;
        @disabled: @first;

        position: relative;
        margin: 0;
        padding: 0;
        background: transparent;
        .ir();
        line-height: @gutter/2;

        &.null {
            top: -7px;
            .size(@gutter/3);
            border: 2px solid @able;
            .border-radius(@gutter);

            &:hover {
                border-color: @hover;
            }

            &:active {
                border-color: @active;
            }

            &[disabled] {
                border-color: @disabled;
            }
        }

        &.up, &.down {
            border-color: transparent;
            border-width: @arrow;
            border-style: solid;
            .border-radius(@gutter/4);
        }

        &.up {
            top: -20px;
            border-bottom: @arrow solid @able;

            &:hover {
                border-bottom: @arrow solid @hover;
            }

            &:active {
                border-bottom: @arrow solid @active;
            }

            &[disabled] {
                border-bottom: @arrow solid @disabled;
            }
        }

        &.down {
            top: -2px;
            border-top: @arrow solid @able;

            &:hover {
                border-top: @arrow solid @hover;
            }

            &:active {
                border-top: @arrow solid @active;
            }

            &[disabled] {
                border-top: @arrow solid @disabled;
            }
        }

        &:focus {
            outline: 0;
        }
    }

    .add {
        margin-top: (@gutter/6);
    }
}

//

.page .session-panel {
    margin-bottom: @gutter;
    .transition(@transition);
    overflow: hidden;
    height: 126px;

    &.shrink {
        height: 0;
        margin-bottom: 0;
    }

    h1 {
        margin: 0 0 0.5em;
        font-size: 1em;
        padding: 0;
        font-weight: bold;
    }

    a {
        color: @text;
    }

    header, ul {
        margin: 0;
    }

    .media {
        height: 126px;
        overflow: hidden;
    }

    li {
        font-size: 0.9em;
        margin-bottom: 0.25em;
    }

    &.thumb.hover a .text {
        background: @second;
    }
}

.hr-wide {
    margin: (@gutter * 2) 0;
}

.sessions {
    .note {
        font-size: 0.75em;
        text-align: right;
    }
}

//

.page .asset_frame {
    h2 {
        letter-spacing: normal !important;
        border: 0 !important;
        margin: 0 !important;
        text-align: center;
    }

    .link {
        font-size: 0.66em;
        .border-radius(3px);
        border: 1px solid @second;
        display: inline-block;
        padding: 0 3px;
        position: relative;
        top: -2px;
        line-height: 1.333;

        &:hover {
            border-color: darken(@second, 30%);
            background: @white_75_second;
        }
    }

    .frame {
        margin-bottom: (@gutter/4);
        .border-radius(@gutter/6);
        border: 1px solid @gray_50;
        padding: (@gutter/4);
        background: @white;
    }

    .duration {
        font-size: 0.7em;
        margin-left: (@gutter/6);
        color: @gray_50;

        &:before, &:after {
            font-weight: bold;
            color: @gray_75;
        }
    }

    .view {
        p:last-child {
            margin-bottom: 0;
        }
    }

    .assets {
        li a {
            display: block;
            margin-bottom: (@gutter/4);
            .border-radius(@gutter/6);
            border: 1px solid @gray_75;
            padding: (@gutter/6) (@gutter/4);
            background: @white;
            color: @text;
            line-height: 16px;
            position: relative;

            .classification {
                font-family: monospace;
                font-size: 0.75em;
                background: @gray_75;
                position: absolute;
                right: (@gutter/4);
                top: (@gutter/6);
                padding: 0 (@gutter/3);
                line-height: 18px;
                .border-radius(@gutter/4);
                .transition(@transition);
                opacity: 0.75;
            }

            .slide {
                display: none;
            }

            &.current {
                border: 1px solid @gray_50_first;
                background: mix(@white, @white_75_first, 75%);
            }

            .session {
                color: @gray_50;
            }

            &:hover {
                border: 1px solid @gray_25_first;
                background: @white_75_first;
                color: @text;

                .classification {
                    opacity: 1;
                }

                .slide {
                    display: inline;
                }
            }
        }
    }
}

.filetype {
    display: inline-block;
    position: relative;
    top: 1px;
    left: 1px;
    .size(16px);
    border: 0;
}