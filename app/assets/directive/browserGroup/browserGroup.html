<div class="browser-widget browser-group cf">
    <span class="browser-widget-title">
	{{"browser.group.by" | message}}
    </span>

    <span class="browser-widget-wrap" ng-if="page.browser.options.volume.allow" ng-class="groupClasses('volume')">
        <a class="browser-widget-pill" ng-click="page.browser.setGroupActive('volume')">{{"volume" | message}}</a>
    </span>

    <span class="browser-widget-wrap" ng-class="recordGroupClasses(group, $last)" ng-repeat="group in page.browser.options.record.categories.toArray() | filter:{active: true, allow: true}" ng-if="page.browser.options.record.allow">
        <a class="browser-widget-pill left" ng-click="page.browser.setRecordGroupToggle(group)" click-elsewhere="page.browser.clearRecordGroupToggle()">{{group.name}}</a>

        <ul class="record-pill-options">
					<li ng-repeat="maybe in page.browser.options.record.categories">
						<a ng-click="page.browser.switchRecordGroup(group, maybe)">{{maybe.name}}</a>
					</li>
				</ul>

        <a class="browser-widget-pill right remove" ng-click="page.browser.removeRecordGroup(group)" ng-if="page.browser.canRemoveRecordGroup()">x</a>
    </span>

    <span class="browser-widget-wrap last" ng-class="{expanded: page.browser.isRecordGroupToggle('add')}" ng-if="page.browser.canAddRecordGroup()">
        <a class="browser-widget-pill add" ng-click="page.browser.setRecordGroupToggle('add')" click-elsewhere="page.browser.clearRecordGroupToggle()">{{"browser.group"
					| message}}</a>

        <ul class="record-pill-options">
					<li ng-repeat="maybe in page.browser.options.record.categories.toArray() | filter:{active: false, allow: true}">
						<a ng-click="page.browser.addRecordGroup(maybe)">{{maybe.name}}</a>
					</li>
				</ul>
    </span>
</div>
