<section class="slot-player" bindonce>
  <div class="player-main">

    <div class="player-main-info" ng-class="{playable: ctrl.current && ctrl.hasDisplay(ctrl.current)}">
      <div ng-if="ctrl.current">
        <nav class="player-main-info-actions" ng-if="ctrl.current.slotAsset">
          <img ng-src="{{ctrl.current.slotAsset.icon}}" hint="format-{{ctrl.current.slotAsset.format.extension}}" class="player-main-info-file-icon">
          <a ng-href="{{ctrl.current.slotAsset.downloadRoute(false)}}" target="_self" ng-if="ctrl.current.slotAsset.checkPermission(page.permission.READ)" class="player-main-info-link icon download line"></a>
          <a ng-if="ctrl.mode === 'edit'" ng-click="removeAsset(true)" class="player-main-info-link icon trash line"></a>
	  <a ng-if="ctrl.mode === 'edit'" ng-click="ctrl.toggleReplace()" class="player-main-info-link icon">R</a>
	  <a ng-click="ctrl.jump(ctrl.current.slotAsset)" class="player-main-info-link icon jump line"></a> <!-- the idea of removing this icon has been floated -->
        </nav>

	<div ng-if="ctrl.mode === 'view' && ctrl.current.slotAsset">
	  <dl class="player-main-info-list cf">
	    <dt bo-text="'material.classification' | message"></dt>
	    <dd>
	      <span class="classification icon" ng-class="page.constants.classification[ctrl.current.slotAsset.asset.classification]" hint="classification-{{page.constants.classification[ctrl.current.slotAsset.asset.classification]}}"></span>&nbsp;<span ng-bind="page.constants.classification[ctrl.current.slotAsset.asset.classification]"></span>
	    </dd>

	    <dt>File Type</dt>
	    <dd ng-bind="ctrl.current.format.name"></dd>

	    <dt ng-if="ctrl.current.slotAsset.asset.duration || ctrl.hasPosition(ctrl.current)">Position</dt>
	    <dd>
	      <span ng-if="ctrl.hasPosition(ctrl.current)">{{ctrl.current.segment.l | timecode}} &ndash; {{ctrl.current.segment.u | timecode}}</span>
	      <span ng-if="ctrl.current.slotAsset.asset.duration"> ({{ctrl.current.slotAsset.asset.duration | timecode}})</span>
	    </dd>
	  </dl>
	</div>

	<asset-edit-form></asset-edit-form>
      </div>
    </div>

    <div class="player-main-viewport">
      <slot-media asset="ctrl.current.slotAsset" ng-if="ctrl.hasDisplay(ctrl.current) && !ctrl.replaceable"></slot-media>
      <div ng-if="ctrl.mode === 'edit' && (!ctrl.current || ctrl.replaceable)" flow-drop flow-btn style="background-color: yellow; width: 100%; height: 100%">DROP OR SELECT FILE HERE</div>
    </div>

    <div class="player-main-float" ng-if="ctrl.current && ctrl.mode == 'view'">
      <h1 class="player-main-info-name">
        <span class="filename" ng-bind="ctrl.current.displayName"></span>
      </h1>
    </div>
  </div>
</section>
